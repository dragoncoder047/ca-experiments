<!DOCTYPE html>
<html>
    <head>
        <title>Interpolator test</title>
        <style>
            body { font-family: monospace }
            table, th, td { border: 1px solid black; border-collapse: collapse }
        </style>
    </head>
    <body>
        <h1>Interpolator Test</h1>
        <p><input id="input"></input> <button id="run">Test it</button></p>
        <table>
            <thead>
                <tr>
                    <th>Input</th>
                    <th>Output</th>
                </tr>
            </thead>
            <tbody id="out"></tbody
        </table>
        <script src="interpol.js"></script>
        <script>
            const box = document.getElementById('input');
            const btn = document.getElementById('run');
            const out = document.getElementById('out');
            function appendResult(input, output) {
                var row = document.createElement('tr');
                var inD = document.createElement('td');
                var ouD = document.createElement('td');
                inD.textContent = input;
                ouD.textContent = output;
                row.appendChild(inD);
                row.appendChild(ouD);
                out.appendChild(row);
            }
            function runTest(x) {
                var input, output;
                if (x) {
                    input = x;
                }
                else {
                    input = box.value;
                    box.value = '';
                }
                try {
                    output = processExpressions(input);
                } catch(e) {
                    output = e.toString();
                }
                appendResult(input, output);
            }
            btn.addEventListener('click', () => runTest());
        </script>
    </body>
</html>
